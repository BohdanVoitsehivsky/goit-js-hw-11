{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst API_KEY = \"51465381-3669693f35fe6c0ef244a196a\"\nconst BASE_URL = 'https://pixabay.com/api/'\n\n\nexport function getImagesByQuery(query) {\n    return axios.get('https://pixabay.com/api/', {\n        params:{\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        \n        }\n    })\n    .then(res => {\n        console.log(res);\n        if(res.data.hits.length === 0) {\n            iziToast.show({\n    title: 'Ой, що це коїться???',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    color: 'red',  \n    position: 'topRight',\n\n});\nreturn[];\n        }\n        return res.data.hits;\n        \n    })\n    .catch(error => {\n        console.log(error);\n        \n    })\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captions: true,\n  \n  captionDelay: 250,\n});\n\nconst galleryContainer = document.querySelector(\".gallery\");\n\n\nexport function createGallery(images) { \n    const markUp = images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n\n                return`\n                <div class=\"cards\">\n                <a href=\"${largeImageURL}\"> <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"card-image\"/></a>\n                <div class=\"commments\">\n                <div class=\"card-comment\">\n                <h2>Likes</h2>\n                <p>${likes}</p>\n                </div>\n\n                <div class=\"card-comment\">\n                <h2>Views</h2>\n                <p>${views}</p>\n                </div>\n\n                \n\n                <div class=\"card-comment\">\n                <h2>Comments</h2>\n                <p>${comments}</p>\n                </div>\n\n                <div class=\"card-comment\">\n                <h2>Downloads</h2>\n                <p>${downloads}</p>\n                \n                </div>\n                </div>\n                </div>\n                `\n                ;\n                }).join(\"\");\n               galleryContainer.insertAdjacentHTML(\"beforeend\", markUp);\n               lightbox.refresh();\n            } ;\n\n\n\n\n            export function clearGallery() {\n                galleryContainer.innerHTML= \"\";\n\n            }\n\n            export function showLoader() {\n                document.querySelector(\".loader\").classList.remove(\"hidden\")\n\n            }\n\n             export function hideLoader() {\n                document.querySelector(\".loader\").classList.add(\"hidden\");\n             }","import {getImagesByQuery} from './js/pixabay-api.js';\nimport {createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector('input[name=\"search-text\"]');\nconst button = document.querySelector('button[type=\"submit\"]');\nconst gallery = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n    const query = input.value.trim();\n    if(query === \"\") {\n        alert(\"Введіть Ваш запит\")\n        return;\n    } \n    clearGallery();\n    showLoader();\n\n        getImagesByQuery(query)\n        .then(images => {\n            if(images.length > 0) {\n                createGallery(images)\n                \n            } else {\n                gallery.innerHTML = `Зображень за запитом ${query} не знайдено`;\n            }\n            \n            \n        })\n        .catch(error => {\n            console.log(error);\n             gallery.innerHTML = `<p>Сталася помилка при отриманні зображень.</p>`;\n        })\n        .finally(() => {\n            hideLoader();\n        })\n        \n    }\n\n"],"names":["API_KEY","getImagesByQuery","query","axios","res","iziToast","error","lightbox","SimpleLightbox","galleryContainer","createGallery","images","markUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","gallery","handlerSubmit","event"],"mappings":"owBAIA,MAAMA,EAAU,qCAIT,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAO,CACP,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEX,CACT,CAAK,EACA,KAAKE,IACF,QAAQ,IAAIA,CAAG,EACZA,EAAI,KAAK,KAAK,SAAW,GACxBC,EAAS,KAAK,CACtB,MAAO,uBACP,QAAS,2EACT,MAAO,MACP,SAAU,UAEd,CAAC,EACK,IAESD,EAAI,KAAK,KAEnB,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAEzB,CAAK,CACL,CCnCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GAEV,aAAc,GAChB,CAAC,EAEKC,EAAmB,SAAS,cAAc,UAAU,EAGnD,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAE9E;AAAA;AAAA,2BAEKL,CAAa,gBAAgBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qBAI7DC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAOLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOb,EAAE,KAAK,EAAE,EACXV,EAAiB,mBAAmB,YAAaG,CAAM,EACvDL,EAAS,QAAO,CAE/B,CAImB,SAASa,GAAe,CAC3BX,EAAiB,UAAW,EAE/B,CAEM,SAASY,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAE9D,CAEO,SAASC,GAAa,CAC1B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CACxE,CC7DA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,2BAA2B,EACjD,SAAS,cAAc,uBAAuB,EAC7D,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMzB,EAAQsB,EAAM,MAAM,KAAI,EAC9B,GAAGtB,IAAU,GAAI,CACb,MAAM,mBAAmB,EACzB,MACH,CACDkB,IACAC,IAEIpB,EAAiBC,CAAK,EACrB,KAAKS,GAAU,CACTA,EAAO,OAAS,EACfD,EAAcC,CAAM,EAGpBc,EAAQ,UAAY,wBAAwBvB,CAAK,cAIjE,CAAS,EACA,MAAMI,GAAS,CACZ,QAAQ,IAAIA,CAAK,EAChBmB,EAAQ,UAAY,iDACjC,CAAS,EACA,QAAQ,IAAM,CACXH,GACZ,CAAS,CAET"}